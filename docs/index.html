

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data-processing &mdash; Datapunt processing 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Datapunt processing 0.0.1 documentation" href="#"/>
        <link rel="next" title="Data-processing" href="introduction.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> Datapunt processing
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Data-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#how-to-use">How to use</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#notebooks">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#how-to-contribute">How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#workflow">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Datapunt processing</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Data-processing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-processing">
<span id="index"></span><h1>Data-processing<a class="headerlink" href="#data-processing" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://www.python.org/"><img alt="https://img.shields.io/badge/python-3.6-blue.svg" src="https://img.shields.io/badge/python-3.6-blue.svg" /></a>
<a class="reference external image-reference" href="https://www.mozilla.org/en-US/MPL/2.0/"><img alt="https://img.shields.io/badge/license-MPLv2.0-blue.svg" src="https://img.shields.io/badge/license-MPLv2.0-blue.svg" /></a>
<p>Data preparation scripts for analysis projects using Python and Docker.</p>
<p>This repo is a WIP so only the functions explained in the above docs are working. Please use a pull request to add new functions or code review.</p>
<p>This package is build by using <a class="reference external" href="http://setuptools.readthedocs.io">setuptools</a> to be able to deploy this later on PyPi with version control. It follows some of <a class="reference external" href="http://alexanderwaldin.github.io/packaging-python-project.html">these</a> guidelines of setting up a python package.</p>
</div>
<div class="section" id="how-to-use">
<h1>How to use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h1>
<p>The usage of the functions are described here:
<a class="reference external" href="https://amsterdam.github.io/data-processing/">amsterdam.github.io/data-processing</a></p>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>To get the functions up and running, also for running them from the command line, follow these 4 steps:</p>
<ol class="arabic simple">
<li>Clone the repository:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/Amsterdam/data-processing.git
<span class="nb">cd</span> data-processing
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Create Virtual environment in Windows</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and activate a virtual environment, for example with:</span>
python -m venv --copies --prompt data-processing .venv
.venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Create Virtual environment in OSX</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>virtualenv --python<span class="o">=</span><span class="k">$(</span>which python3<span class="k">)</span> venv
<span class="nb">source</span> venv/bin/activate
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Install the data-processing modules in editable mode</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -e .
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Start a database server in a new terminal (required for all load services with current config.ini or not using an existing database):</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker-compose up -d database
</pre></div>
</div>
</div>
<div class="section" id="notebooks">
<h1>Notebooks<a class="headerlink" href="#notebooks" title="Permalink to this headline">¶</a></h1>
<p>Some of the examples are in the form of runnable Jupyter notebooks. Copies of these with all the images and output included are hosted at Anaconda Cloud. To run these notebooks on your own system, start up a Jupyter notebook server:</p>
<blockquote>
<div>jupyter notebook –NotebookApp.iopub_data_rate_limit=100000000</div></blockquote>
</div>
<div class="section" id="how-to-contribute">
<h1>How to Contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h1>
<p>If you want to contribute please follow the <a class="reference external" href="https://amsterdam.github.io/CONTRIBUTING/">contribute guidelines</a></p>
<div class="section" id="prequisites">
<h2>Prequisites<a class="headerlink" href="#prequisites" title="Permalink to this headline">¶</a></h2>
<p>Fork this repository to your local github account.</p>
<p>To add new documentation and test new functions, install the docs,test,dev packages using this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -e .<span class="o">[</span>docs,test,dev<span class="o">]</span>
or when using zsh
pip install -e ./<span class="o">[</span>docs,test,dev/<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="steps-to-add-code">
<h2>Steps to add code<a class="headerlink" href="#steps-to-add-code" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Convert your function into a <a class="reference external" href="https://python-packaging.readthedocs.io/en/latest/command-line-scripts.html">python-package command line script</a> using the <a class="reference external" href="https://github.com/Amsterdam/data-processing/blob/master/src/boilerplate_function.py">boilerplate_function.py</a></li>
<li>Add your commandline name and location to the <a class="reference external" href="https://github.com/Amsterdam/data-processing/blob/master/setup.py#L36">concole_scripts</a> in setup.py.</li>
<li>Add a rst file with <a class="reference external" href="http://sphinx-argparse.readthedocs.io/en/latest/">Sphinx Argparse extension</a> fields to generate the description and argument fields by reusing an <a class="reference external" href="https://github.com/Amsterdam/data-processing/blob/master/sphinx/source/extract/download_from_data_amsterdam.rst">existing rst file</a>. Helpers will generate automatically, so you can skip this step if it is only a helper function.</li>
<li>Regenerate the documentation to test the docs output using:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sphinx/make docs
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Make a PR to add the add your awesome function to our processing code to be reused by many other developpers and data analists.</li>
</ol>
</div>
</div>
<div class="section" id="workflow">
<h1>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h1>
<p>For more information about the complete workflow, read the
<a class="reference external" href="https://amsterdam.github.io/guides/data-pipeline/">data-pipeline guide</a>.</p>
</div>
<div class="section" id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Data-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#how-to-use">How to use</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#notebooks">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#how-to-contribute">How to Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#prequisites">Prequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#steps-to-add-code">Steps to add code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#workflow">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#auth">Auth</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#extract">Extract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extract/download_from_data_amsterdam_catalog.html">download_from_data_amsterdam_catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="extract/download_from_data_amsterdam_api.html">download_from_data_amsterdam_api</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#transform">Transform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="transform/geospatial/get_geojson_from_wfs.html">get_geojson_from_wfs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#load">Load</a><ul>
<li class="toctree-l3"><a class="reference internal" href="load/load_xls_into_postgres.html">load_xls_to_postgres</a></li>
<li class="toctree-l3"><a class="reference internal" href="load/load_wfs_into_postgres.html">load_wfs_to_postgres</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#helpers">Helpers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_modules/helpers.html">helpers package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
</div>
</div>
<div class="section" id="search-functions">
<h1>Search Functions<a class="headerlink" href="#search-functions" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="introduction.html" class="btn btn-neutral float-right" title="Data-processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Gemeente Amsterdam.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>